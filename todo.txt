- DRY, remove repeat code
- refactor arg orders, consistent across all functions (color specifically)
- TODOs everywhere


- refactor

- pawn promotion
- castling